{% load i18n static %}

<address class="{% if no_title_top_padding %}margin-top-neg-1__detail-list{% endif %} dja-address-contact-list">

    {% if show_formatted_name %}
        {% if contact.get_formatted_name %}
            <a href="{% url 'admin:registrar_contact_change' user.id %}">{{ user.get_formatted_name }}</a><br />
        {% else %}
            None<br />
        {% endif %}
    {% endif %}

    {% if user.title or user.contact.title or user.email or user.contact.email or user.phone or user.contact.phone %}
        {# Title #}
        {% if user.title or user.contact.title %}
            {% if user.contact.title %}
                {{ user.contact.title }}
            {% else %}
                {{ user.title }}
            {% endif %}
            <br>
        {% else %}
            None<br>
        {% endif %}
        {# Email #}
        {% if user.email or user.contact.email %}
            {% if user.contact.email %}
                {{ user.contact.email }} |
                <div class="admin-icon-group admin-icon-group__clipboard-link">
                    <input user-id="{{ user.contact.id }}" aria-hidden="true" class="display-none" value="{{ user.contact.email }}" />
                    <button 
                    class="usa-button usa-button--unstyled padding-right-1 usa-button__icon usa-button__clipboard text-no-underline" 
                    type="button"
                    >
                        <svg 
                        class="usa-icon" 
                        >
                            <use aria-hidden="true" xlink:href="{%static 'img/sprite.svg'%}#content_copy"></use>
                        </svg>
                        Copy
                    </button>
                </div>
                <div
                id="email-clipboard__success-dialog-{{ user.contact.id }}" 
                class="admin-icon-group__success-dialog 
                display-none 
                usa-alert 
                usa-alert--success 
                usa-alert--slim 
                usa-alert--slim--dja-admin 
                margin-top-1 
                margin-bottom-1"
                >
                    <div class="usa-alert__body">
                        <p class="usa-alert__text">
                            Email copied to clipboard.
                        </p>
                    </div>
                </div>
            {% else %}
                {{ user.email }} | 
                <div class="admin-icon-group admin-icon-group__clipboard-link">
                    <input user-id="{{ user.id }}" aria-hidden="true" class="display-none" value="{{ user.email }}" />
                    <button 
                    class="usa-button usa-button--unstyled padding-right-1 usa-button__icon usa-button__clipboard text-no-underline" 
                    type="button"
                    >
                        <svg 
                        class="usa-icon" 
                        >
                            <use aria-hidden="true" xlink:href="{%static 'img/sprite.svg'%}#content_copy"></use>
                        </svg>
                        Copy
                    </button>
                </div>
                <div
                id="email-clipboard__success-dialog-{{ user.id }}" 
                class="admin-icon-group__success-dialog 
                display-none 
                usa-alert 
                usa-alert--success 
                usa-alert--slim 
                usa-alert--slim--dja-admin 
                margin-top-1 
                margin-bottom-1"
                >
                    <div class="usa-alert__body">
                        <p class="usa-alert__text">
                            Email copied to clipboard.
                        </p>
                    </div>
                </div>
            {% endif %}
            <br class="admin-icon-group__br">
        {% else %}
            None<br>
        {% endif %}

        {# Phone #}
        {% if user.phone or user.contact.phone %}
            {% if user.contact.phone %}
                {{ user.contact.phone }}
            {% else %}
                {{ user.phone }}
            {% endif %}
            <br>
        {% else %}
            None<br>
        {% endif %}
    {% else %}
        No additional contact information found.
    {% endif %}
</address>
